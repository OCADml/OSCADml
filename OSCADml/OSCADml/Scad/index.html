<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Scad (OSCADml.OSCADml.Scad)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.2.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> – <a href="../../index.html">OSCADml</a> &#x00BB; <a href="../index.html">OSCADml</a> &#x00BB; Scad</nav><header class="odoc-preamble"><h1>Module <code><span>OSCADml.Scad</span></code></h1><p>Build scad models with well-typed dimensional system (3d / 2d) aware functions mapping down onto the similarly named operations made available by the OpenSCAD language.</p><p>OpenSCAD objects and the operations upon them are represented by the recursive type <a href="#type-t"><code>t</code></a>, which can then finally be translated into a scad script. As this transpiles down to OpenSCAD, the <a href="https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/The_OpenSCAD_Language">User Manual</a> can be referred to for additional information about most of the functions (and examples of output) made available here.</p></header><nav class="odoc-toc"><ul><li><a href="#a-note-on-special-facet-parameters">A note on special facet parameters</a></li><li><a href="#3d-shape-primitives">3d shape primitives</a></li><li><a href="#2d-shape-primitives">2d shape primitives</a></li><li><a href="#basic-transformations">Basic Transformations</a></li><li><a href="#3d-only-transformations">3d Only Transformations</a></li><li><a href="#2d-only-transformations">2d Only Transformations</a></li><li><a href="#boolean-combination">Boolean Combination</a></li><li><a href="#3d-to-2d">3d to 2d</a></li><li><a href="#2d-to-3d-extrusions">2d to 3d extrusions</a></li><li><a href="#external-(non-scad)-format-import">External (non-SCAD) Format Import</a></li><li><a href="#lifting-from-ocadml">Lifting from OCADml</a></li><li><a href="#output">Output</a></li><li><a href="#infix-operators">Infix Operators</a></li></ul></nav><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-scad"><a href="#type-scad" class="anchor"></a><code><span><span class="keyword">type</span> scad</span></code></div><div class="spec-doc"><p>The scad type is kept abstract, as the available constructor functions provide much less cumbersome means of building up models.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>('dim, 'space, 'rot, 'affine) t</span></span></code></div><div class="spec-doc"><p>This GADT allows scads to be tagged as 2D or 3D, restricting usage of functions that should only apply to one or the other, and preventing mixing during boolean operations.</p><ul><li>The <code>'space</code> parameter can be <code>V2</code>.t or <code>V3</code>.t, corresponding to dimensions over which the scad can be transformed.</li><li>The <code>'rot</code> parameter corresponds to the axes rotation available to the scad. For 2d shapes, this is a <code>float</code> representing z-axis rotation, and for 3d shapes, xyz axes are available through <code>V3</code>.t.</li><li>The <code>'affine</code> parameter can be <code>Affine2</code>.t or <code>Affine3</code>.t, specifying the affine transformation matrix to use for the <a href="#val-affine"><code>affine</code></a> function (which maps down to <a href="https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/The_OpenSCAD_Language#multmatrix">multmatrix</a> in OpenSCAD).</li></ul></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-d2"><a href="#type-d2" class="anchor"></a><code><span><span class="keyword">type</span> d2</span><span> = <span><span>(<span>[ `D2 ]</span>, <span class="xref-unresolved">OCADml</span>.V2.t, float, <span class="xref-unresolved">OCADml</span>.Affine2.t)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Two-dimensional shape</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-d3"><a href="#type-d3" class="anchor"></a><code><span><span class="keyword">type</span> d3</span><span> = <span><span>(<span>[ `D3 ]</span>, <span class="xref-unresolved">OCADml</span>.V3.t, <span class="xref-unresolved">OCADml</span>.V3.t, <span class="xref-unresolved">OCADml</span>.Affine3.t)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Three-dimensional shape</p></div></div><h2 id="a-note-on-special-facet-parameters"><a href="#a-note-on-special-facet-parameters" class="anchor"></a>A note on special facet parameters</h2><p>The optional parameters ?fa, ?fs, and ?fn correspond to the OpenSCAD &quot;special parameters&quot; governing the number of facets used to generate arcs (<b>$fa</b>, <b>$fs</b>, and <b>$fn</b> respectively). Where present, they govern the following:</p><ul><li><code>?fa</code> is the minimum angle for a fragment. Note that this should be given in radians here (as opposed to degrees in the OpenSCAD language). Default is <code>pi /. 15.</code> radians (12°).</li><li><code>?fs</code> is the minimum size/length of a fragment. Even if ?fa is given, and very small, this parameter will limit how small the generated fragments can be (default = <code>2.</code>).</li><li><code>?fn</code> will set the absolute number of fragments to be used (causing the previous two parameters to be ignored if non-zero).</li></ul><h2 id="3d-shape-primitives"><a href="#3d-shape-primitives" class="anchor"></a>3d shape primitives</h2><div class="odoc-spec"><div class="spec value anchored" id="val-cube"><a href="#val-cube" class="anchor"></a><code><span><span class="keyword">val</span> cube : <span>?center:bool <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">OCADml</span>.V3.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-d3">d3</a></span></code></div><div class="spec-doc"><p><code>cube ?center dimensions</code></p><p>Creates a cube in the first octant, with the given xyz <code>dimensions</code>. When <code>center</code> is true, the cube is centered on the origin.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-sphere"><a href="#val-sphere" class="anchor"></a><code><span><span class="keyword">val</span> sphere : <span>?fa:float <span class="arrow">&#45;&gt;</span></span> <span>?fs:float <span class="arrow">&#45;&gt;</span></span> <span>?fn:int <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <a href="#type-d3">d3</a></span></code></div><div class="spec-doc"><p><code>sphere ?fa ?fs ?fn radius</code></p><p>Creates a sphere with given <code>radius</code> at the origin of the coordinate system.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-cylinder"><a href="#val-cylinder" class="anchor"></a><code><span><span class="keyword">val</span> cylinder : 
  <span>?center:bool <span class="arrow">&#45;&gt;</span></span>
  <span>?fa:float <span class="arrow">&#45;&gt;</span></span>
  <span>?fs:float <span class="arrow">&#45;&gt;</span></span>
  <span>?fn:int <span class="arrow">&#45;&gt;</span></span>
  <span>height:float <span class="arrow">&#45;&gt;</span></span>
  <span>float <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-d3">d3</a></span></code></div><div class="spec-doc"><p><code>cylinder ?center ?fa ?fs ?fn ~height radius</code></p><p>Creates a cylinder centered about the z axis. When center is true, it will also be centered vertically, otherwise the base will sit upon the XY plane.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-cone"><a href="#val-cone" class="anchor"></a><code><span><span class="keyword">val</span> cone : 
  <span>?center:bool <span class="arrow">&#45;&gt;</span></span>
  <span>?fa:float <span class="arrow">&#45;&gt;</span></span>
  <span>?fs:float <span class="arrow">&#45;&gt;</span></span>
  <span>?fn:int <span class="arrow">&#45;&gt;</span></span>
  <span>height:float <span class="arrow">&#45;&gt;</span></span>
  <span>float <span class="arrow">&#45;&gt;</span></span>
  <span>float <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-d3">d3</a></span></code></div><div class="spec-doc"><p><code>cone ?center ?fa ?fs ?fn ~height r1 r2 </code></p><p>Creates a cone (using the cylinder primitive) with bottom radius <code>r1</code> and top radius <code>r2</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-polyhedron"><a href="#val-polyhedron" class="anchor"></a><code><span><span class="keyword">val</span> polyhedron : <span>?convexity:int <span class="arrow">&#45;&gt;</span></span> <span><span><span class="xref-unresolved">OCADml</span>.V3.t list</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>int list</span> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-d3">d3</a></span></code></div><div class="spec-doc"><p><code>polyhedron points faces</code></p><p>A polyhedron is the most general 3D primitive solid. It can be used to create any regular or irregular shape including those with concave as well as convex features. Curved surfaces are approximated by a series of flat</p><p>The <code>V3</code>.t list of coordinate <code>points</code> represents the vertices of the shape. How these points define the surface of the generated shape is specified by the <code>faces</code> (0-based) index lists. Each element of <code>faces</code> should define a face in the same order (from the perspective of viewing the drawn shape from the outside, OpenSCAD prefers clockwise ordering) face using the points at the indices in <code>points</code>. These may be defined in any order, as long as enough are provided to fully enclose the shape.</p><p>The optional <code>?convexity</code> parameter specifies the maximum number of faces a ray intersecting the object might penetrate. This parameter is needed only for correct display of the object in OpenCSG preview mode. It has no effect on the polyhedron rendering. For display problems, setting it to 10 should work fine for most cases.</p><p>If you are having trouble, please see the <a href="https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/The_OpenSCAD_Language#Debugging_polyhedra">debugging polyhedra</a> section of the OpenSCAD user manual.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-empty3"><a href="#val-empty3" class="anchor"></a><code><span><span class="keyword">val</span> empty3 : <a href="#type-d3">d3</a></span></code></div><div class="spec-doc"><p>An empty 3d non-shape (union of nothing).</p></div></div><h2 id="2d-shape-primitives"><a href="#2d-shape-primitives" class="anchor"></a>2d shape primitives</h2><div class="odoc-spec"><div class="spec value anchored" id="val-square"><a href="#val-square" class="anchor"></a><code><span><span class="keyword">val</span> square : <span>?center:bool <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">OCADml</span>.V2.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-d2">d2</a></span></code></div><div class="spec-doc"><p><code>square ?center dimensions</code></p><p>Creates a square or rectangle in the first quadrant, with given xyz <code>dimensions</code>. When <code>?center</code> is true the square is centered on the origin.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-circle"><a href="#val-circle" class="anchor"></a><code><span><span class="keyword">val</span> circle : <span>?fa:float <span class="arrow">&#45;&gt;</span></span> <span>?fs:float <span class="arrow">&#45;&gt;</span></span> <span>?fn:int <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <a href="#type-d2">d2</a></span></code></div><div class="spec-doc"><p><code>circle ?fa ?fs ?fn radius</code></p><p>Creates a circle with given <code>radius</code> at the origin.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-polygon"><a href="#val-polygon" class="anchor"></a><code><span><span class="keyword">val</span> polygon : <span>?convexity:int <span class="arrow">&#45;&gt;</span></span> <span>?paths:<span><span>int list</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="xref-unresolved">OCADml</span>.V2.t list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-d2">d2</a></span></code></div><div class="spec-doc"><p><code>polygon ?convexity ?paths points</code></p><p>Creates a multiple sided shape from a list of xy <code>points</code>. If <code>?paths</code> is not specified, then all points will be used in the order that they appear. A single path list specifies the order to traverse the <code>points</code> to draw the outline of the polygon. Any additional lists of indices will describe secondary shapes to be subtracted from the first. In this way, holes can be placed in the shape without a subsequent boolean <a href="#val-difference"><code>difference</code></a> operation.</p><p>For information on the <code>?convexity</code>, please see the documentation for <a href="#val-polyhedron"><code>polyhedron</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-text"><a href="#val-text" class="anchor"></a><code><span><span class="keyword">val</span> text : 
  <span>?size:float <span class="arrow">&#45;&gt;</span></span>
  <span>?font:string <span class="arrow">&#45;&gt;</span></span>
  <span>?halign:<a href="../Text/index.html#type-h_align">Text.h_align</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?valign:<a href="../Text/index.html#type-v_align">Text.v_align</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?spacing:float <span class="arrow">&#45;&gt;</span></span>
  <span>?direction:<a href="../Text/index.html#type-direction">Text.direction</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?language:string <span class="arrow">&#45;&gt;</span></span>
  <span>?script:string <span class="arrow">&#45;&gt;</span></span>
  <span>?fn:int <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-d2">d2</a></span></code></div><div class="spec-doc"><p><code>text ?size ?font ?halign ?valign ?spacing ?direction ?language ?script ?fn str</code></p><p>Creates 2D geometric text object with contents <code>str</code>, using a named font installed on the local system or provided as a separate font file.</p><ul><li><code>?size</code> specifies the ascent (height above baseline). Default is 10.</li><li><code>?font</code> is the name of the font that should be used. This is not the name of the font file, but the logical font name (internally handled by the fontconfig library).</li><li><code>?halign</code> and <code>?valign</code> set the horizontal and vertical alignments of the text. Defaults are <code>Left</code> and <code>Baseline</code> respectively.</li><li><code>?spacing</code> gives a factor by which to increase/decrease the character spacing. A value of 1.0 would result in normal spacing.</li><li><code>?direction</code> sets the text flow. Default is <code>LeftToRight</code>.</li><li><code>?language</code> sets the language of the text. Default is &quot;en&quot;.</li><li><code>?script</code> sets the script of the text. Default is &quot;latin&quot;.</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-empty2"><a href="#val-empty2" class="anchor"></a><code><span><span class="keyword">val</span> empty2 : <a href="#type-d2">d2</a></span></code></div><div class="spec-doc"><p>An empty 2d non-shape (union of nothing).</p></div></div><h2 id="basic-transformations"><a href="#basic-transformations" class="anchor"></a>Basic Transformations</h2><p>These functions can be applied to both 2d and 3d shapes. Relevant vector and rotational parameters are tied to the dimensionality of the input shape, preventing transformations that could result in 2d shapes escaping the xy plane. <i>e.g.</i> Translation vectors of 2d shapes are given as <code>V2</code>.t, and rotation is given as a single <code>float</code> angle about the z-axis.</p><div class="odoc-spec"><div class="spec value anchored" id="val-translate"><a href="#val-translate" class="anchor"></a><code><span><span class="keyword">val</span> translate : <span><span class="type-var">'s</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>translate p t</code></p><p>Moves <code>t</code> along the vector <code>p</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-xtrans"><a href="#val-xtrans" class="anchor"></a><code><span><span class="keyword">val</span> xtrans : <span>float <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>xtrans x t</code></p><p>Moves <code>t</code> by the distance <code>x</code> along the x-axis.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-ytrans"><a href="#val-ytrans" class="anchor"></a><code><span><span class="keyword">val</span> ytrans : <span>float <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>ytrans y t</code></p><p>Moves <code>t</code> by the distance <code>y</code> along the y-axis.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-ztrans"><a href="#val-ztrans" class="anchor"></a><code><span><span class="keyword">val</span> ztrans : <span>float <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-d3">d3</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-d3">d3</a></span></code></div><div class="spec-doc"><p><code>ztrans z t</code></p><p>Moves the 3d shape <code>t</code> by the distance <code>z</code> along the z-axis.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-rotate"><a href="#val-rotate" class="anchor"></a><code><span><span class="keyword">val</span> rotate : <span>?about:<span class="type-var">'s</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'r</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>rotate ?about r t</code></p><p>Performs an Euler rotation (zyx) if operating in 3d (<code>(r : V3.t) (t : d3)</code>), otherwise (<code>(r : float) (t : d2)</code>), a single rotation around the z-axis is performed. If it is provided, rotations are performed around the point <code>about</code>, otherwise rotation is about the origin. Angle(s) <code>r</code> are in radians.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-xrot"><a href="#val-xrot" class="anchor"></a><code><span><span class="keyword">val</span> xrot : <span>?about:<span class="xref-unresolved">OCADml</span>.V3.t <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-d3">d3</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-d3">d3</a></span></code></div><div class="spec-doc"><p><code>xrot ?about r t</code></p><p>Rotate the 3d shape <code>t</code> around the x-axis through the origin (or the point <code>about</code> if provided) by <code>r</code> (in radians).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-yrot"><a href="#val-yrot" class="anchor"></a><code><span><span class="keyword">val</span> yrot : <span>?about:<span class="xref-unresolved">OCADml</span>.V3.t <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-d3">d3</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-d3">d3</a></span></code></div><div class="spec-doc"><p><code>yrot ?about r t</code></p><p>Rotate the 3d shape <code>t</code> around the y-axis through the origin (or the point <code>about</code> if provided) by <code>r</code> (in radians).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-zrot"><a href="#val-zrot" class="anchor"></a><code><span><span class="keyword">val</span> zrot : <span>?about:<span class="type-var">'s</span> <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>zrot ?about r t</code></p><p>Rotate the shape <code>t</code> (2d or 3d) around the z-axis through the origin (or the point <code>about</code> if provided) by <code>r</code> (in radians). For 2d shapes, this is equivalent to <a href="#val-rotate"><code>rotate</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-affine"><a href="#val-affine" class="anchor"></a><code><span><span class="keyword">val</span> affine : <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>affine mat t</code></p><p>Transforms the geometry <code>t</code> with the given affine transformation matrix <code>mat</code> (<code>Affine2</code>.t for 2d, <code>Affine3</code>.t for 3d shapes) via the <a href="https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/The_OpenSCAD_Language#multmatrix">multmatrix</a> operation in OpenSCAD.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-mirror"><a href="#val-mirror" class="anchor"></a><code><span><span class="keyword">val</span> mirror : <span><span class="type-var">'s</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>mirror ax t</code></p><p>Mirrors <code>t</code> on a plane through the origin, defined by the normal vector <code>ax</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-scale"><a href="#val-scale" class="anchor"></a><code><span><span class="keyword">val</span> scale : <span><span class="type-var">'s</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>scale factors t</code></p><p>Scales <code>t</code> by the given <code>factors</code> in xyz.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-xscale"><a href="#val-xscale" class="anchor"></a><code><span><span class="keyword">val</span> xscale : <span>float <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>xscale s t</code></p><p>Scales <code>t</code> by the factor <code>s</code> in the x-dimension.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-yscale"><a href="#val-yscale" class="anchor"></a><code><span><span class="keyword">val</span> yscale : <span>float <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>yscale s t</code></p><p>Scales <code>t</code> by the factor <code>s</code> in the y-dimension.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-zscale"><a href="#val-zscale" class="anchor"></a><code><span><span class="keyword">val</span> zscale : <span>float <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-d3">d3</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-d3">d3</a></span></code></div><div class="spec-doc"><p><code>zscale s t</code></p><p>Scales <code>t</code> by the factor <code>s</code> in the z-dimension.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-resize"><a href="#val-resize" class="anchor"></a><code><span><span class="keyword">val</span> resize : <span><span class="type-var">'s</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>resize dimensions t</code></p><p>Adjusts the size of <code>t</code> to match the given <code>dimensions</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-color"><a href="#val-color" class="anchor"></a><code><span><span class="keyword">val</span> color : <span>?alpha:float <span class="arrow">&#45;&gt;</span></span> <span><a href="../Color/index.html#type-t">Color.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>color ?alpha color t</code></p><p>Displays <code>t</code> with the specified <code>color</code> and <code>?alpha</code> value. This is only used for the F5 preview as CGAL and STL (F6, render) do not currently support color. Defaults to opaque (alpha = 1.0).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-render"><a href="#val-render" class="anchor"></a><code><span><span class="keyword">val</span> render : <span>?convexity:int <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>render ?convexity t</code></p><p>Forces OpenSCAD to render and cache the mesh produced by the given <code>t</code>. This can help to speed up previewing <b>(F5)</b> when the cached shape is used many times. Note that this does however remove any colouration applied previously with <a href="#val-color"><code>color</code></a>, or resulting from boolean operations such as <a href="#val-difference"><code>difference</code></a>. Output rendering <b>(F6)</b> performance is unaffected.</p></div></div><h2 id="3d-only-transformations"><a href="#3d-only-transformations" class="anchor"></a>3d Only Transformations</h2><p>Each of these transformations cannot be restricted to the 2-dimensional xy plane, thus they are restricted to 3d shapes.</p><div class="odoc-spec"><div class="spec value anchored" id="val-axis_rotate"><a href="#val-axis_rotate" class="anchor"></a><code><span><span class="keyword">val</span> axis_rotate : <span>?about:<span class="xref-unresolved">OCADml</span>.V3.t <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">OCADml</span>.V3.t <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-d3">d3</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-d3">d3</a></span></code></div><div class="spec-doc"><p><code>axis_rotate ?about ax r t</code></p><p>Rotates <code>t</code> about the arbitrary axis <code>ax</code> through the origin (or the point <code>about</code> if provided) by the angle <code>r</code> (in radians).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-quaternion"><a href="#val-quaternion" class="anchor"></a><code><span><span class="keyword">val</span> quaternion : <span>?about:<span class="xref-unresolved">OCADml</span>.V3.t <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">OCADml</span>.Quaternion.t <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-d3">d3</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-d3">d3</a></span></code></div><div class="spec-doc"><p><code>quaternion ?about q t</code></p><p>Applys the quaternion rotation <code>q</code> around the origin (or the point <code>about</code> if provided) to <code>t</code>.</p></div></div><h2 id="2d-only-transformations"><a href="#2d-only-transformations" class="anchor"></a>2d Only Transformations</h2><div class="odoc-spec"><div class="spec value anchored" id="val-offset"><a href="#val-offset" class="anchor"></a><code><span><span class="keyword">val</span> offset : <span>?mode:<span>[ `Delta <span>| `Radius</span> <span>| `Chamfer</span> ]</span> <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-d2">d2</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-d2">d2</a></span></code></div><div class="spec-doc"><p><code>offset ?mode d t</code></p><p>Generates a new 2D interior or exterior outline shifted a distance <code>d</code> from the original 2d shape <code>t</code>. The <code>mode</code> governs how <code>d</code> is used to create the new corners (default = <code>`Delta</code>).</p><ul><li><code>`Delta</code> will create a new outline whose sides are a fixed distance <code>d</code> (+ve out, -ve in) from the original outline.</li><li><code>`Chamfer</code> fixed distance offset by <code>d</code> as with delta, but with corners chamfered.</li><li><code>`Radius</code> creates a new outline as if a circle of some radius <code>d</code> is rotated around the exterior (<code>d &gt; 0</code>) or interior (<code>d &lt; 0</code>) original outline.</li></ul><p>Helpful diagrams of what each of these offset styles and chamfering look like can be found <a href="https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/The_OpenSCAD_Language#offset">here</a>.</p></div></div><h2 id="boolean-combination"><a href="#boolean-combination" class="anchor"></a>Boolean Combination</h2><p>Perform boolean operations between shapes of the same dimension (non-mixing of 2d and 3d shapes is enforced by the the GADT <a href="#type-t"><code>t</code></a>. Note that the polymorphic versions of <a href="#val-union"><code>union</code></a>, <a href="#val-minkowski"><code>minkowski</code></a>, <a href="#val-hull"><code>hull</code></a>, and <a href="#val-intersection"><code>intersection</code></a>, throw exceptions when the input list is empty. If empty list inputs are expected, then use the appropriate <code>2</code> or <code>3</code> variant.</p><div class="odoc-spec"><div class="spec value anchored" id="val-union"><a href="#val-union" class="anchor"></a><code><span><span class="keyword">val</span> union : <span><span><span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>union ts</code></p><p>Creates the union/sum (logical <b>or</b>) <code>ts</code>. Throws an exception if <code>ts</code> is empty, use <a href="#val-union2"><code>union2</code></a> or <a href="#val-union3"><code>union3</code></a> if you would like empty unions to pass silently.</p><p><b>Note:</b> It is mandatory for all unions, explicit or implicit, that external faces to be merged not be coincident. Failure to follow this rule results in a design with undefined behavior, and can result in a render which is not manifold (with zero volume portions, or portions inside out), which typically leads to a warning and sometimes removal of a portion of the design from the rendered output. (This can also result in flickering effects during the preview.) This requirement is not a bug, but an intrinsic property of floating point comparisons and the fundamental inability to exactly represent irrational numbers such as those resulting from most rotations.</p><p>The solution to this is to use a small value called an epsilon when merging adjacent faces to guarantee that they overlap, like so:</p><pre class="language-ocaml"><code>let scad =
  let eps = 0.01 in
  let p = { x = 1. -. eps; y = 0.; z = 0. } in
  union [ cube { x = 1.; y = 1.; z = 1. }
        ; translate p (cube { x = 2. +. eps; y = 2.; z = 2. })
        ]</code></pre></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-union2"><a href="#val-union2" class="anchor"></a><code><span><span class="keyword">val</span> union2 : <span><span><a href="#type-d2">d2</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-d2">d2</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-union3"><a href="#val-union3" class="anchor"></a><code><span><span class="keyword">val</span> union3 : <span><span><a href="#type-d3">d3</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-d3">d3</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-add"><a href="#val-add" class="anchor"></a><code><span><span class="keyword">val</span> add : <span><span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>add a b</code></p><p>Union the shapes <code>a</code> and <code>b</code>. Equivalent to <code>union [a; b]</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-difference"><a href="#val-difference" class="anchor"></a><code><span><span class="keyword">val</span> difference : 
  <span><span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>difference t sub</code></p><p>Subracts the shapes of <code>sub</code> from <code>t</code> (logical <b>and not</b>).</p><p><b>Note:</b> It is mandatory that surfaces that are to be removed by a difference operation have an overlap, and that the negative piece being removed extends fully outside of the volume it is removing that surface from. Failure to follow this rule can cause preview artifacts and can result in non-manifold render warnings or the removal of pieces from the render output. See the description above in union for why this is required and an example of how to do this by this using a small epsilon value.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-sub"><a href="#val-sub" class="anchor"></a><code><span><span class="keyword">val</span> sub : <span><span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>sub a b</code></p><p>Subtract the shape <code>b</code> from <code>a</code>. Equivalent to <code>difference a [b]</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-intersection"><a href="#val-intersection" class="anchor"></a><code><span><span class="keyword">val</span> intersection : <span><span><span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>intersection ts</code></p><p>Creates an in intersection of <code>ts</code>. This keeps the overlapping portion (logical <b>and</b>). Only the area which is common or shared by <b>all</b> shapes are retained. Throws an exception if <code>ts</code> is empty, use <a href="#val-intersection2"><code>intersection2</code></a> or <a href="#val-intersection3"><code>intersection3</code></a> if you would like empty intersections to pass silently.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-intersection2"><a href="#val-intersection2" class="anchor"></a><code><span><span class="keyword">val</span> intersection2 : <span><span><a href="#type-d2">d2</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-d2">d2</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-intersection3"><a href="#val-intersection3" class="anchor"></a><code><span><span class="keyword">val</span> intersection3 : <span><span><a href="#type-d3">d3</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-d3">d3</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-minkowski"><a href="#val-minkowski" class="anchor"></a><code><span><span class="keyword">val</span> minkowski : <span><span><span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>minkowski ts</code></p><p>Displays the minkowski sum of <code>ts</code>. Throws an exception if <code>ts</code> is empty, use <a href="#val-minkowski2"><code>minkowski2</code></a> or <a href="#val-minkowski3"><code>minkowski3</code></a> if you would like empty minkowski sums to pass silently.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-minkowski2"><a href="#val-minkowski2" class="anchor"></a><code><span><span class="keyword">val</span> minkowski2 : <span><span><a href="#type-d2">d2</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-d2">d2</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-minkowski3"><a href="#val-minkowski3" class="anchor"></a><code><span><span class="keyword">val</span> minkowski3 : <span><span><a href="#type-d3">d3</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-d3">d3</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-hull"><a href="#val-hull" class="anchor"></a><code><span><span class="keyword">val</span> hull : <span><span><span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>hull ts</code></p><p>Displays the convex hull of <code>ts</code>. Throws an exception if <code>ts</code> is empty, use <a href="#val-hull2"><code>hull2</code></a> or <a href="#val-hull3"><code>hull3</code></a> if you would like empty hulls to pass silently.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-hull2"><a href="#val-hull2" class="anchor"></a><code><span><span class="keyword">val</span> hull2 : <span><span><a href="#type-d2">d2</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-d2">d2</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-hull3"><a href="#val-hull3" class="anchor"></a><code><span><span class="keyword">val</span> hull3 : <span><span><a href="#type-d3">d3</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-d3">d3</a></span></code></div></div><h2 id="3d-to-2d"><a href="#3d-to-2d" class="anchor"></a>3d to 2d</h2><div class="odoc-spec"><div class="spec value anchored" id="val-projection"><a href="#val-projection" class="anchor"></a><code><span><span class="keyword">val</span> projection : <span>?cut:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-d3">d3</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-d2">d2</a></span></code></div><div class="spec-doc"><p><code>projection ?cut t</code></p><p>Project a 3D model <code>t</code> to the XY plane, resulting in an infinitely thin 2D shape, which can then be extruded back into 3D, or rendered and exported as a <code>.dxf</code>. If <code>?cut</code> is true, only points with z=0 (a slice of <code>t</code> where it intersects with the XY plane) are considered. When <code>?cut</code> is false (the default when not specified), then points above and below the XY plane will be considered in forming the projection.</p></div></div><h2 id="2d-to-3d-extrusions"><a href="#2d-to-3d-extrusions" class="anchor"></a>2d to 3d extrusions</h2><div class="odoc-spec"><div class="spec value anchored" id="val-extrude"><a href="#val-extrude" class="anchor"></a><code><span><span class="keyword">val</span> extrude : 
  <span>?height:float <span class="arrow">&#45;&gt;</span></span>
  <span>?center:bool <span class="arrow">&#45;&gt;</span></span>
  <span>?convexity:int <span class="arrow">&#45;&gt;</span></span>
  <span>?twist:int <span class="arrow">&#45;&gt;</span></span>
  <span>?slices:int <span class="arrow">&#45;&gt;</span></span>
  <span>?scale:<span class="xref-unresolved">OCADml</span>.V2.t <span class="arrow">&#45;&gt;</span></span>
  <span>?fn:int <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-d2">d2</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-d3">d3</a></span></code></div><div class="spec-doc"><p><code>extrude ?height ?center ?convexity ?twist ?slices ?scale ?fn t</code></p><p>Takes a 2D object <code>t</code>, and extrudes it upwards from the XY plane to <code>?height</code>. If <code>?center</code> is true, the resulting 3D object is centered around the XY plane, rather than resting on top of it.</p><ul><li><code>?twist</code> rotates the shape by the specified angle as it is extruded upwards</li><li><code>?slices</code> specifies the number of intermediate points along the Z axis of the extrusion. By default this increases with the value of <code>?twist</code>, though manual refinement my improve results.</li><li><code>?scale</code> expands or contracts the shape in X and Y as it is extruded upward. Default is (1., 1.), no scaling.</li><li><code>?convexity</code>: see <a href="#val-polyhedron"><code>polyhedron</code></a> documentation.</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-revolve"><a href="#val-revolve" class="anchor"></a><code><span><span class="keyword">val</span> revolve : 
  <span>?angle:float <span class="arrow">&#45;&gt;</span></span>
  <span>?convexity:int <span class="arrow">&#45;&gt;</span></span>
  <span>?fa:float <span class="arrow">&#45;&gt;</span></span>
  <span>?fs:float <span class="arrow">&#45;&gt;</span></span>
  <span>?fn:int <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-d2">d2</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-d3">d3</a></span></code></div><div class="spec-doc"><p><code>revolve ?angle ?convexity ?fa ?fs ?fn t</code></p><p>Spins a 2D shape <code>t</code> around the Z-axis in an arc of <code>?angle</code> (default = 2π) to form a solid which has rotational symmetry. Since <code>t</code> is actually 2D (and does not really exist in Z), it is more like it is spun around the Y-axis to form the solid, which is then placed so that its axis of rotation lies along the Z-axis. For this reason, <code>t</code> <b>must</b> lie completely on either the right (recommended) or the left side of the Y-axis. Further explanation and examples can be found <a href="https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/The_OpenSCAD_Language#Rotate_Extrude">here</a>.</p></div></div><h2 id="external-(non-scad)-format-import"><a href="#external-(non-scad)-format-import" class="anchor"></a>External (non-SCAD) Format Import</h2><div class="odoc-spec"><div class="spec value anchored" id="val-import2"><a href="#val-import2" class="anchor"></a><code><span><span class="keyword">val</span> import2 : <span>?layer:string <span class="arrow">&#45;&gt;</span></span> <span>?convexity:int <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-d2">d2</a></span></code></div><div class="spec-doc"><p><code>import2 ?dxf_layer ?convexity file</code></p><p>Imports a <code>file</code> for use in the current OpenSCAD model. The file extension is used to determine which type. If <code>file</code> is a <code>.dxf</code>, <code>?dxf_layer</code> can be used to indicate a specific layer for import. Throws exception if the extension does not match (case insensitive) one of the following 2D formats:</p><ul><li>DXF</li><li>SVG (<i>Requires version 2019.05 of OpenSCAD</i>)</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-import3"><a href="#val-import3" class="anchor"></a><code><span><span class="keyword">val</span> import3 : <span>?convexity:int <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-d3">d3</a></span></code></div><div class="spec-doc"><p><code>import3 ?convexity file</code></p><p>Imports <code>file</code> for use in the current OpenSCAD model. The file extension is used to determine which type. Throws exception if the extension does not match (case insensitive) one of the following 3D formats:</p><ul><li>STL (<i>both ASCII and Binary</i>)</li><li>OFF</li><li>AMF (<i>Requires version 2019.05 of OpenSCAD</i>)</li><li>3MF (<i>Requires version 2019.05 of OpenSCAD</i>)</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-surface"><a href="#val-surface" class="anchor"></a><code><span><span class="keyword">val</span> surface : <span>?convexity:int <span class="arrow">&#45;&gt;</span></span> <span>?center:bool <span class="arrow">&#45;&gt;</span></span> <span>?invert:bool <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-d3">d3</a></span></code></div><div class="spec-doc"><p><code>surface ?convexity ?center ?invert file</code></p><p>Read <a href="https://en.wikipedia.org/wiki/Heightmap">heightmap</a> information from a text (with <code>.dat</code> extension) or image (<code>.png</code> only) <code>file</code> into a 3D shape. When <code>?center</code> is true the imported surface is centered on the origin, otherwise it will be placed in the positive quadrant (like <a href="#val-square"><code>square</code></a>).</p><ul><li><code>.dat</code> <b>format:</b> a matrix of numbers (delimited by spaces or tabs) that represent the height for a specific point. Rows are mapped to the y-axis, columns to the x-axis. Empty lines and those that begin with <code>#</code> are ignored.</li><li><p><code>.png</code> <b>format:</b> alpha channel information of the image is ignored, and the height for each pixel is deterimend by converting the colour value to <a href="https://en.wikipedia.org/wiki/Grayscale">grayscale</a> using the linear luminance for the sRGB colour space.</p><pre class="language-ocaml"><code>let y = 0.2126 *. r +. 0.7152 *. g +. 0.0722 *. b</code></pre><p>The greyscale values are scaled to be in the range of 0 to 100. Setting <code>invert</code> to <code>true</code> inverts the translation of colour to height values (defaults to <code>false</code>, and has no effect on text <code>.dat</code> files)</p></li></ul><p>Further explanation and examples can be found <a href="https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/The_OpenSCAD_Language#Surface">here</a>.</p></div></div><h2 id="lifting-from-ocadml"><a href="#lifting-from-ocadml" class="anchor"></a>Lifting from OCADml</h2><div class="odoc-spec"><div class="spec value anchored" id="val-of_path2"><a href="#val-of_path2" class="anchor"></a><code><span><span class="keyword">val</span> of_path2 : <span>?convexity:int <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">OCADml</span>.Path2.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-d2">d2</a></span></code></div><div class="spec-doc"><p><code>of_path2 ?convexity path</code></p><p>Create a 2d shape enclosed by <code>path</code> by way of <a href="#val-polygon"><code>polygon</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-of_poly2"><a href="#val-of_poly2" class="anchor"></a><code><span><span class="keyword">val</span> of_poly2 : <span>?convexity:int <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">OCADml</span>.Poly2.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-d2">d2</a></span></code></div><div class="spec-doc"><p><code>of_poly2 ?convexity poly</code></p><p>Create a 2d shape with the outer and inner (hole) paths of <code>poly</code> by way of <a href="#val-polygon"><code>polygon</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-of_poly3"><a href="#val-of_poly3" class="anchor"></a><code><span><span class="keyword">val</span> of_poly3 : <span>?convexity:int <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">OCADml</span>.Poly3.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-d3">d3</a></span></code></div><div class="spec-doc"><p><code>of_poly3 ?convexity poly</code></p><p>Create an unclosed (non-manifold) 3d shape/face with the outer and inner (hole) paths the (assumed) planar <code>poly</code>. This will appear in preview, but will not render.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-of_mesh"><a href="#val-of_mesh" class="anchor"></a><code><span><span class="keyword">val</span> of_mesh : <span>?convexity:int <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">OCADml</span>.Mesh.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-d3">d3</a></span></code></div><div class="spec-doc"><p><code>of_mesh ?convexity mesh</code></p><p>Create a 3d shape from the points and faces of <code>mesh</code> by way of <a href="#val-polyhedron"><code>polyhedron</code></a>.</p></div></div><h2 id="output"><a href="#output" class="anchor"></a>Output</h2><div class="odoc-spec"><div class="spec value anchored" id="val-to_string"><a href="#val-to_string" class="anchor"></a><code><span><span class="keyword">val</span> to_string : <span><span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>to_string t</code></p><p>Convert the scad <code>t</code> to a string in the OpenSCAD language.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-to_file"><a href="#val-to_file" class="anchor"></a><code><span><span class="keyword">val</span> to_file : <span>?incl:bool <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>to_file ?incl path t</code></p><p>Write the scad <code>t</code> to a file at the given <code>path</code>, as an OpenSCAD script (using <a href="#val-to_string"><code>to_string</code></a>). If <code>incl</code> is <code>true</code> (default = <code>false</code>), then an additional file (prefixed with <code>&quot;incl_&quot;</code>) is produced and <code>include</code>d into the script at <code>path</code>. This trick can be helpful to avoid sluggishness associated with loading large scripts into the OpenSCAD editor.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-export"><a href="#val-export" class="anchor"></a><code><span><span class="keyword">val</span> export : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(unit, string)</span> <span class="xref-unresolved">Stdlib</span>.result</span></span></code></div><div class="spec-doc"><p><code>export path t</code></p><p>Export the scad <code>t</code> to a file at the given <code>path</code>, in a format dictated by the extension of <code>path</code>. If export through OpenSCAD fails, an error containing captured Stderr output from OpenSCAD is returned (usually CGAL errors). Compatible extensions:</p><ul><li><b>2D</b>: <code>.dxf</code>, <code>.svg</code>, <code>.csg</code></li><li><b>3D</b>: <code>.stl</code>, <code>.off</code>, <code>.amf</code>, <code>.3mf</code>, <code>.csg</code>, <code>.wrl</code></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-snapshot"><a href="#val-snapshot" class="anchor"></a><code><span><span class="keyword">val</span> snapshot : 
  <span>?render:bool <span class="arrow">&#45;&gt;</span></span>
  <span>?colorscheme:<a href="../Export/index.html#type-colorscheme">Export.colorscheme</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?projection:<a href="../Export/index.html#type-projection">Export.projection</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?size:<span>(int * int)</span> <span class="arrow">&#45;&gt;</span></span>
  <span>?camera:<a href="../Export/index.html#type-camera">Export.camera</a> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(unit, string)</span> <span class="xref-unresolved">Stdlib</span>.result</span></span></code></div><div class="spec-doc"><p><code>snapshot ?render ?colorscheme ?projection ?size ?camera path t</code></p><p>Save an image (<b>PNG</b> only at this time) of <code>size</code> pixels (default = <code>(500, 500)</code>) to <code>path</code> of the scad <code>t</code> using the OpenSCAD CLI. By default, the <code>camera</code> is positioned automatically to point at the centre of the object, and far enough away such for it to all be in frame. See <a href="../Export/index.html#type-camera"><code>Export.camera</code></a> and its <a href="../Export/index.html#val-gimbal"><code>Export.gimbal</code></a> and <a href="../Export/index.html#val-eye"><code>Export.eye</code></a> constructors for details on manual control. If export fails, an error containing captured Stderr output from OpenSCAD is returned (usually CGAL errors).</p><ul><li>if <code>render</code> is <code>true</code>, the object will be rendered before the snapshot is taken, otherwise preview mode is used (default = <code>false</code>).</li><li><code>projection</code> sets the view style as in the GUI (default = <code>Perspective</code>)</li><li><code>colorscheme</code> selects the OpenSCAD colour palette (default = <code>Cornfield</code>)</li></ul></div></div><h2 id="infix-operators"><a href="#infix-operators" class="anchor"></a>Infix Operators</h2><div class="odoc-spec"><div class="spec value anchored" id="val-(|&gt;&gt;)"><a href="#val-(|&gt;&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (|&gt;&gt;) : <span><span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'s</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>t |&gt;&gt; p</code></p><p>Infix <a href="#val-translate"><code>translate</code></a></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(|@&gt;)"><a href="#val-(|@&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (|@&gt;) : <span><span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'r</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'d</span>, <span class="type-var">'s</span>, <span class="type-var">'r</span>, <span class="type-var">'a</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>t |@&gt; r</code></p><p>Infix <a href="#val-rotate"><code>rotate</code></a></p></div></div></div></body></html>