<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>index (OSCADml.index)</title><link rel="stylesheet" href="../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ OSCADml</nav><header class="odoc-preamble"><h1 id="oscadml_ml"><a href="#oscadml_ml" class="anchor"></a>OSCADml_ml</h1><p>In conjunction with <a href="https://github.com/OCADml/OCADml"><code>OCADml</code></a>, this library provides an OCaml front-end to the <a href="https://openscad.org/">OpenSCAD</a> solid modelling language. All SCAD primitives and transformation functions are made available.</p></header><nav class="odoc-toc"><ul><li><a href="#notable-differences-from-the-openscad-language">Notable differences from the OpenSCAD language</a></li><li><a href="#usage">Usage</a></li><li><a href="#api">API</a><ul><li><a href="#core-dsl">Core DSL</a></li><li><a href="#utilities">Utilities</a></li></ul></li><li><a href="#ocadml">OCADml documentation</a></li><li><a href="#examples">Examples</a><ul><li><a href="#paths-and-sweeps">Paths and Sweeps</a></li><li><a href="#rounded-extrusions">Rounded Extrusions</a></li><li><a href="#skins-and-morphs">Skins and Morphs</a></li><li><a href="#function-plotting">Function Plotting</a></li></ul></li><li><a href="#ppx">[@@deriving cad]</a></li><li><a href="#auto_generation">Generating models on write</a></li></ul></nav><div class="odoc-content"><h2 id="notable-differences-from-the-openscad-language"><a href="#notable-differences-from-the-openscad-language" class="anchor"></a>Notable differences from the OpenSCAD language</h2><ul><li>Angles are represented in radians (and converted to degrees when compiling to OpenSCAD).</li><li><code>linear_extrude</code> and <code>rotate_extrude</code> have been renamed to <a href="OSCADml/Scad/index.html#val-extrude"><code>extrude</code></a> and <a href="OSCADml/Scad/index.html#val-revolve"><code>revolve</code></a></li><li>The dimensional system (2D or 3D) each shape inhabits is tracked by the type system. This is used to restrict the operations that can be legally applied (e.g. 2D shapes cannot be moved off of the xy plane, <a href="OSCADml/Scad/index.html#val-extrude"><code>Scad.extrude</code></a> can only be applied to 2D shapes) and enforcing non-mixing of 2D and 3D shapes during boolean operations.</li></ul><h2 id="usage"><a href="#usage" class="anchor"></a>Usage</h2><pre><code>open OCADml
open OSCADml

let () =
  let scad_logo =
    let rad = 5.
    and fn = 720 in
    let cyl = Scad.cylinder ~fn ~center:true ~height:(rad *. 2.3) (rad /. 2.) in
    let cross_cyl = Scad.rotate (v3 0. (Float.pi /. 2.) 0.) cyl in
    Scad.union
      [ Scad.difference
          (Scad.sphere ~fn rad)
          [ cyl; cross_cyl; Scad.rotate (v3 0. 0. (Float.pi /. 2.)) cross_cyl ]
      ; Scad.color ~alpha:0.25 Color.Magenta cross_cyl
      ]
  in
  Scad.to_file &quot;scad_logo.scad&quot; scad_logo</code></pre> <img src="../assets/scad_logo.png" style="width:125mm;" /> <p>Generated <code>.scad</code> scripts can then be viewed with the <a href="https://openscad.org/downloads.html">OpenSCAD viewer</a> as you normally would, or directly exporting <a href="OSCADml/Scad/index.html#type-t"><code>Scad.t</code></a> into other model formats or PNGs with <a href="OSCADml/Scad/index.html#val-export"><code>Scad.export</code></a> and <a href="OSCADml/Scad/index.html#val-snapshot"><code>Scad.snapshot</code></a> respectively.</p><h2 id="api"><a href="#api" class="anchor"></a>API</h2><p><a href="OSCADml/index.html"><code>OSCADml</code></a> -- top level library interface</p><h3 id="core-dsl"><a href="#core-dsl" class="anchor"></a>Core DSL</h3><ul><li><a href="OSCADml/Scad/index.html"><code>Scad</code></a> -- well-typed dimension aware OpenSCAD models</li><li><a href="OSCADml/Text/index.html"><code>Text</code></a> -- <a href="OSCADml/Scad/index.html#val-text"><code>Scad.text</code></a> configuration types</li><li><a href="OSCADml/Color/index.html"><code>Color</code></a> -- <a href="OSCADml/Scad/index.html#val-color"><code>Scad.color</code></a> configuration type</li></ul><h3 id="utilities"><a href="#utilities" class="anchor"></a>Utilities</h3><ul><li><a href="OSCADml/Export/index.html"><code>Export</code></a> -- exporting <code>.scad</code> scripts via OpenSCAD CLI</li><li><a href="OSCADml/Debug/index.html"><code>Debug</code></a> -- helpers for simple viewing of OCADml types</li></ul><h2 id="ocadml"><a href="#ocadml" class="anchor"></a>OCADml documentation</h2><p>The <a href="https://github.com/OCADml/OCADml"><code>OCADml</code></a> library features prominently in the following examples, infact they can largely be considered part of <code>OCADml</code>'s extended documentation. Thus in working through them, as well as using <code>OSCADml</code>, the <a href="https://OCADml.github.io/OCADml/OCADml/index.html">OCADml manual</a> should serve as a helpful reference.</p><h2 id="examples"><a href="#examples" class="anchor"></a>Examples</h2><h3 id="paths-and-sweeps"><a href="#paths-and-sweeps" class="anchor"></a>Paths and Sweeps</h3><ul><li><a href="offset_and_rounding.html"><b>Offset and roundovers</b></a></li><li><a href="default_vs_euler_sweeps.html"><b>Default vs euler path transformation reference</b></a></li><li><a href="bespoke_sweeps.html"><b>Bespoke sweep transforms (with direct affine transform generation)</b></a></li><li><a href="spline.html"><b>Cubic spline</b></a></li><li><a href="arc_points.html"><b>Arcing paths</b></a></li><li><a href="helices.html"><b>Helical paths and extrusions</b></a></li><li><a href="resampled_path.html"><b>Path resampling and scaling/twisting sweeps</b></a></li></ul><h3 id="rounded-extrusions"><a href="#rounded-extrusions" class="anchor"></a>Rounded Extrusions</h3><ul><li><a href="rounded_polyhole_sweep.html"><b>Rounded sweeps</b></a></li><li><a href="rounded_prisms.html"><b>Continuous curvature rounded prisms</b></a></li><li><a href="rounded_text.html"><b>Rounded extrusion of cairo imported polygonal font</b></a></li></ul><h3 id="skins-and-morphs"><a href="#skins-and-morphs" class="anchor"></a>Skins and Morphs</h3><ul><li><a href="profile_skinning.html"><b>Profile skinning</b></a></li><li><a href="morphing_sweeps.html"><b>Morphing sweeps and extrusions</b></a></li></ul><h3 id="function-plotting"><a href="#function-plotting" class="anchor"></a>Function Plotting</h3><ul><li><a href="polar_rose.html"><b>Rose polar plot</b></a></li><li><a href="cartesian_gravity_well.html"><b>Cartesian gravity well</b></a></li><li><a href="axial_chalice.html"><b>Axial chalice</b></a></li></ul><h2 id="ppx"><a href="#ppx" class="anchor"></a>[@@deriving cad]</h2><p>There is a companion ppx, <a href="https://github.com/OCADml/ppx_deriving_cad">[@@deriving cad]</a> for generating transformation functions for user-defined records and abstract types made up of the <a href="OSCADml/Scad/index.html#type-t"><code>Scad.t</code></a>, along with their corresponding vector (<span class="xref-unresolved"><code>V2.t</code></span> or <span class="xref-unresolved"><code>V3.t</code></span>) types (and those composed of them) provided in by <a href="https://github.com/OCADml/OCADml">OCADml</a>.</p><h2 id="auto_generation"><a href="#auto_generation" class="anchor"></a>Generating models on write</h2><p>For a more pleasant modelling experience, it is highly recommended to setup <a href="https://github.com/ocaml/dune">dune</a> to automate writing your models to file whenever the source files are saved. To do so, add a <a href="https://dune.readthedocs.io/en/latest/dune-files.html#rule">dune rule</a> that runs your projects executable after it is built. For example, in <code>your_project/bin/dune</code>:</p><pre><code>(executable
 (public_name your_project)
 (name main)
 (libraries OCADml OSCADml))

(rule
 (alias model)
 (action
  (run your_project)))</code></pre><p>Then start <b>dune</b> in <a href="https://dune.readthedocs.io/en/latest/usage.html#watch-mode">watch mode</a> with <code>dune build -w @model</code>.</p></div></body></html>